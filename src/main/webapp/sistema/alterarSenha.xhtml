<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html >
<html xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://java.sun.com/jsf/core">


<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />




	<style type="text/css">
/* Credit to bootsnipp.com for the css for the color graph */
.colorgraph {
	height: 5px;
	border-top: 0;
	background: #c4e17f;
	border-radius: 5px;
	background-image: -webkit-linear-gradient(left, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%,
		#f7fdca 25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%,
		#db9dbe 50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%,
		#669ae1 87.5%, #62c2e4 87.5%, #62c2e4);
	background-image: -moz-linear-gradient(left, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%,
		#f7fdca 25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%,
		#db9dbe 50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%,
		#669ae1 87.5%, #62c2e4 87.5%, #62c2e4);
	background-image: -o-linear-gradient(left, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%, #f7fdca
		25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%, #db9dbe
		50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%, #669ae1
		87.5%, #62c2e4 87.5%, #62c2e4);
	background-image: linear-gradient(to right, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%, #f7fdca
		25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%, #db9dbe
		50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%, #669ae1
		87.5%, #62c2e4 87.5%, #62c2e4);
}
</style>
	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
</h:head>

<h:body>

	<ui:composition template="/WEB-INF/restrito/TemplatePadrao.xhtml">

		<ui:define name="titulo">Alterar senha</ui:define>
		<ui:define name="corpo">


			<div class="container">

				<div class="row">
					<div
						class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-4 col-md-offset-2">
						<h:form role="form" id="formSenha" >


							<p:messages id="messages" autoUpdate="true" closable="true" />


							<h2>
								Alterar Senha <br /> <small>Campos com * 
								são obrigatórios.</small>
							</h2>
							<hr class="colorgraph" />
                             
							
						
							  <h4>Informe sua senha atual:<span class="label label-default"></span></h4>
							<div class="form-group">
								<p:password id="senhaAtual" required="true" requiredMessage="Informe sua senha atual"
											placeholder="* Password"
											styleClass="form-control input-lg"
											value="#{alterarSenhaBean.usuarioSenha.senha}" />
								
							</div>


							<div class="row">
								<div class="col-xs-12 col-sm-6 col-md-6">
									<div class="form-group">

										<p:password id="Feedback" placeholder="* New Password"
											required="true" requiredMessage="Nova senha deve ser informada"
											validatorMessage="Senhas devem ser iguais"
											match="confirminlineFeedback"
											styleClass="form-control input-lg"
											promptLabel="Digite a senha" weakLabel="Força senha:fraca"
											goodLabel="Força senha:média" strongLabel="Força senha:forte"
											value="#{alterarSenhaBean.novaSenha}" feedback="true"
											inline="true" />
									</div>
								</div>
								<div class="col-xs-12 col-sm-6 col-md-6">
									<div class="form-group">
										<p:password id="confirminlineFeedback"
											placeholder="* Confirmpassword"
											styleClass="form-control input-lg"
											value="#{alterarSenhaBean.confirmNovaSenha}" />
									</div>
								</div>
							</div>
							
							
							
							<hr class="colorgraph" />
							<div class="row">
								<div class="col-xs-12 col-md-6">
									<p:commandButton id="salvar" update="@form"
										actionListener="#{alterarSenhaBean.salvar()}"
										styleClass="botao   ui-priority-primary" value="Alterar" />

								</div>
								<div class="col-xs-12 col-md-6">
									<p:commandButton id="sair" action="/index?face-redirect=true" immediate="true" ajax="false"
										styleClass="botao  ui-priority-primary" value="Sair" />
								</div>
							</div>
						</h:form>

					</div>
				</div>
				
			</div>

		</ui:define>
	</ui:composition>


	<script type="text/javascript">
$(function () {
    $('.button-checkbox').each(function () {

        // Settings
        var $widget = $(this),
            $button = $widget.find('button'),
            $checkbox = $widget.find('input:checkbox'),
            color = $button.data('color'),
            settings = {
                on: {
                    icon: 'glyphicon glyphicon-check'
                },
                off: {
                    icon: 'glyphicon glyphicon-unchecked'
                }
            };

        // Event Handlers
        $button.on('click', function () {
            $checkbox.prop('checked', !$checkbox.is(':checked'));
            $checkbox.triggerHandler('change');
            updateDisplay();
        });
        $checkbox.on('change', function () {
            updateDisplay();
        });

        // Actions
        function updateDisplay() {
            var isChecked = $checkbox.is(':checked');

            // Set the button's state
            $button.data('state', (isChecked) ? "on" : "off");

            // Set the button's icon
            $button.find('.state-icon')
                .removeClass()
                .addClass('state-icon ' + settings[$button.data('state')].icon);

            // Update the button's color
            if (isChecked) {
                $button
                    .removeClass('btn-default')
                    .addClass('btn-' + color + ' active');
            }
            else {
                $button
                    .removeClass('btn-' + color + ' active')
                    .addClass('btn-default');
            }
        }

        // Initialization
        function init() {

            updateDisplay();

            // Inject the icon if applicable
            if ($button.find('.state-icon').length == 0) {
                $button.prepend('<i class="state-icon ' + settings[$button.data('state')].icon + '"></i>');
            }
        }
        init();
    });
});
</script>


</h:body>

</html>
